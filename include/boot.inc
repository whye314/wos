LOADER_START_SECTOR equ 0x2
LOADER_BASE_ADDR equ 0x900



DESC_G_4K equ 0x1 << 23
DESC_G_B equ 0x0 << 23
DESC_D_32 equ 0x1 << 22
DESC_L_32 equ 0x0 << 21
DESC_AVL equ 0x0 << 20
DESC_LIMIT_VIDEO2 equ 0x0 << 16
DESC_LIMIT_CODE2 equ 01111b << 16
DESC_LIMIT_DATA2 equ 01111b << 16
DESC_LIMIT_STACK2 equ 0x0 << 16
DESC_P equ 0x1 << 15
DESC_DPL0 equ 0x0 << 13
DESC_S equ 0x1 << 12
DESC_S_SYS equ 0x0 << 12
DESC_TYPE_CODE equ 01000b << 8
DESC_TYPE_DATA equ 0010b << 8
DESC_TYPE_STACK equ 00110b << 8



DESC_CODE_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL + DESC_LIMIT_CODE2 + DESC_P + DESC_DPL0 + DESC_S + DESC_TYPE_CODE
DESC_DATA_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL + DESC_LIMIT_DATA2 + DESC_P + DESC_DPL0 + DESC_S + DESC_TYPE_DATA
DESC_VIDEO_HIGH4 equ (0x00 << 24) + DESC_G_4K + DESC_D_32 + DESC_L_32 + DESC_AVL + DESC_LIMIT_VIDEO2 + DESC_P + DESC_DPL0 + DESC_S + DESC_TYPE_DATA + 0xb
DESC_STACK_HIGH4 equ (0x00 << 24) + DESC_G_B + DESC_D_32 + DESC_L_32 + DESC_AVL + DESC_LIMIT_STACK2 + DESC_P + DESC_DPL0 + DESC_S + DESC_TYPE_STACK

RPL0 equ 0x0
RPL1 equ 0x1
RPL2 equ 0x2
RPL3 equ 0x3
TI_GDT equ 0 << 2
TI_LDT equ 1 << 2


PAGE_DIR_ROOT equ 0x100000
PG_US_U equ 1 << 2
PG_US_S equ 0 << 2
PG_P equ 1
PG_RW_R equ 0 << 1
PG_RW_W equ 1 << 1

KERNEL_SECTOR equ 9
KERNEL_ADDR_BIN equ 0x70000
KERNEL_VADDRESS equ 0xc0001500